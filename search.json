[{"title":"《利玛窦的记忆宫殿》阅读笔记","url":"/post/a4723547.html","content":"《利玛窦的记忆宫殿》阅读笔记\n1\n一直以来就对利玛窦其人很感兴趣，很多人似乎有种固有的认知，即中国与西方之间是相互隔绝。然而，若仔细翻阅历史，便会发现中西之间的交流远比我们以为的早和深。\n阅读本书，不像是在读一本史学著作，而像是读一本小说。史景迁的写作手法就如同讲故事般，以独特的视角带读者同历史人物一道一同体会真实的历史事件。\n作者以神奇的记忆术为引线，以利玛窦记忆宫殿中的四个形象：两名相互搏斗的武士，一名来自西域的女子，执镰刀的农夫，怀抱圣婴的圣母，和利玛窦交给程大约在《程氏墨苑》中刊刻的四幅图画为章节，带读者走入利玛窦的精神世界，了解他的生平。\n所谓记忆术，即在脑海中建构一座记忆宫殿，在其中为希望记住的东西给予一个形象，再为其分配一个适当的位置。利玛窦曾用汉语写过一本《西国记法》，希望借记忆术的功效吸引渴望考取功名的士子们，从而推进传教事业。虽然利玛窦本人多次在中国人面前展示他惊人的记忆力，然而似乎并没有人能练成这神奇的记忆术。\n利玛窦于 1582 年 8 月 7 日抵达澳门，先是在澳门努力学习中文。他脱下洋装，换上汉服，同时学习两种近代汉语——近代南京官话和近代粤语广府话，阅读大量中文书籍。而后辗转广州，肇庆，韶州，南昌，南京，北京，最终在 1610 年 5 月 11 日于北京去世。\n利玛窦在中国的生活和传教事业历经波折，经历过普通民众的围观，嘲弄，甚至冲突，为此扭伤了他的脚踝，在他剩下的十八年生命里，一旦要走远路，便伤痛缠身，只能跛脚前行；遗失圣书经文的痛苦；挚友与同事的死亡。\n\n利玛窦告诉弟弟奥拉吉奥，中国人总是对他的满头白发表示惊异，并奇怪为什么他年纪不大却看起来如此苍老。他补充说：“他们正是我白发苍苍的原因。”在 1595 年 8 月写给他的澳门上司——葡萄牙人孟三德神父的信中，利玛窦说，上帝选中了他，赐予他十二年含辛茹苦、饱受屈辱的生活。\n\n利玛窦不仅是一位虔诚的耶稣会士，在自然科学领域也涉猎颇深，撰写《乾坤体义》，介绍托勒密和亚里士多德的学说，绘制世界地图《坤舆万国全图》，和徐光启等人翻译欧几里得《几何原本》。\n2\n读这本书的时候，时常会有一种心灵的震撼，一个人漂洋过海，来到异国他乡，一片完全未知，语言文化不通的领域，凭着理想和信念想要融入这个社会。为此他学习汉语，穿着汉服，留起长发，打扮的像一个中国儒生，历经无数肉体和精神的折磨，依旧不夺其志，这是一种怎样强大的精神意志啊。\n\n1583年，利玛窦知道，在中国文化之外继续旁观已经变得十分奢侈。他剃掉须发，穿上袈裟，化身中国僧侣；此后十年间，他又蓄起胡子，穿上儒衫，打入热衷科举的士大夫群体。他始终认为，要开启文化上的交流，就应该“做中国人中间的中国人”。然而，无论如何努力，他想要面见的万历皇帝却始终拒绝见他。\n在人生的终点回望，利玛窦觉得自己茫然无着，不知身在何处，却早已难以返身。他不会知道，他的这些切身尝试，早已铺陈开十六世纪之后数百年中西文明交汇的壮阔图景。\n或许一切事情在肇始之初，都渺小微弱，无论事中人还是旁观者都无法说服自己，它将来能成就如此宏大的局面。\n\n3\n觉得这两章写得很好，摘抄上来以做纪念。\n第九章 宫门之内\n利玛窦脚穿绣花鞋，站在记忆宫殿的门口，许久以前，他从窗口跳出来，伤了一只脚，如今还隐隐作痛。\n他的思绪飘荡，跨越时空。眼前展现的是微微闪光的宫墙和立柱，是廊檐和雕饰精美的大门，在那后边，储放着许多记忆形象，那一切都来自阅读、经历，还有他那坚定的信仰。\n他看到一个人，那是大太监马堂，马堂暴怒异常，手中紧握着木刻的十字架，基督被钉在那十字架之上，汩汩淌血；他听见风声呼啸，那是赣江之上，狂风肆虐，前船的人们大喊示警，可惜船只倾覆，他和若望·巴达拉斯都掉入水中；他闻到焚香气味，那是在句容那漂亮的大花园里，他将一幅三联圣像画放在庙里的神龛上，周围点起香来，心中默祷；他品尝家常饭菜，那是肇庆城外的乡间，贫苦的农夫们拿来招待他的；他感到了面贴面的温情，那是临终前的石方西神父，双臂紧紧围抱住他的脖颈，两人泪流满面。\n在这片未知的地域，利玛窦已经走得太远，远超他的预料。他有时茫然无着，不知自己是否应该返回，自己是否还能返回。一次他写信给少年时的学友弗利加蒂，引用了维吉尔的诗句，“下往地狱的道路易行，但仍得返身原路踏上天国”。这句诗出自《埃涅阿斯纪》的第六卷，利玛窦和弗利加蒂多年前一道学习这诗篇，童年时他反复吟诵。但那一刻他匆忙间，只凭记忆引述，缩减了原文：\n\n    下往地狱的道路易行，\n  \t黑暗冥府的大门昼夜敞开。\n    但要返身原路登上天国，\n    其路险阻，多费辛劳。\n\n当时埃涅阿斯请求下入冥界，去寻找他死去的父亲，而女先知库迈的西比尔就这样劝告他。\n在利玛窦的画中，诸色人物都品味着命运的尖厉：使徒彼得在波涛中挣扎，两位门徒在前往以马忤斯途中停步，而所多玛的人们则跌倒在地，眼盲不能视物。在记忆宫殿的会客大厅，几个形象各安其位，两名在搏斗的武士，“回回”妇女，还有代表着姓氏“利”的农夫。\n“这样的事很常见，”利玛窦写道，“生活在后世的人们，往往无法了解前时代的伟大事业或行动如何起源。我时常揣思，这是缘于何故，发现只能如此解释：一切事情（包括那些最后取得极大成功的）在肇始之初，是那样微弱渺小，人们自己都无法说服自己相信，它将在将来成就如此宏大之局面。”\n他立在门口，身躯高大，留浓重的胡须，身着紫色镶蓝边的丝质长袍。记忆宫殿内寂静无声。在他身后有两名妇女，每位怀中都抱着一个婴孩。其中一位身着华美无比的绣花长裙，头肩部披着一块飘动的头巾，手持着一枝玫瑰。另一位丫鬟打扮，衣装朴素，头梳左右两个发髻，既示以年幼，又表面其仆女的身份。\n“尽管我还年轻，”利玛窦有次写信给马菲伊——他的友人，研究基督宗教扩张编年史的学者——说道，“我已经有了一些老年人的习性，总是喜欢称颂过去的时光。”\n两个婴孩也看着他。一个举起小小的右手，对天祈祷；另一个张开双臂，像在玩耍。四周很平静，但远处传来低沉的杂音，那是北京城街市的喧嚣。\n他关上了那扇门。\n译后记\n翻译史景迁先生的《利玛窦的记忆宫殿》，本身就是一次旅行。四百多年前利玛窦梯航远来，踏上东方土地，十几年间行旅中华万里河山。如今译者坐于灯下，但意念穿梭时空，温暖的山城马切拉塔、狂风肆虐的印度洋、南国旖旎、北海冰封，一幕幕闪现，这都有赖于史景迁先生笔下的魔力。作者以“记忆术”为引线，牵出的是一整幅十六、十七世纪东西方交流的宏阔图景。精彩的历史叙述，已能模糊“真实”与“想象”的界线，加之利玛窦记忆术本身具有的神奇色彩，使这部著作愈发显得亦真亦幻、动人心魄。\n几个世纪回转，当年种种，言辞交锋、挣扎与痛苦，仿佛都已散入历史的烟尘，但记忆本身——即使不凭借记忆术——却不会轻易泯灭。不分东海西海，人类对于恒久记忆的兴趣，几百年来并没有改变多少。若干年前，香港无线电视台（TVB）开播电视剧《读心神探》，出现在剧中桌头的一本《记忆宫殿》，又激起许多观众对西方记忆秘术的追捧。此中热闹，无论是利玛窦神父，还是史景迁先生，恐怕都无法料想。\n","categories":["阅读笔记","《利玛窦的记忆宫殿》"],"tags":["阅读"]},{"title":"EU5初体验","url":"/post/4339b790.html","content":"时隔 12 年，欧陆风云系列即将推出第五部作品，作为 P 社的最具雄心的历史战略模拟游戏，也是 P 社的当家花旦，那必须第一时间预购啊 😍\n北京时间 2025 年 11 月 5 号 1 点，必须第一时间尝尝咸淡 🤗\n\n20 小时游玩体验后，鉴定为纯纯一坨半成品，垃圾优化，瞎眼 UI，卡得要死，美术极其垃圾。\n这一作内容非常繁杂，游戏机制从底层上缝合了维多利亚 3 的经济系统和人群模拟。同时细化了大量地块，添加了3D地形。\n但垃圾的UI设计、美术以及性能优化使得你很难流畅愉快地体验这一切。\n将时间流逝单位从天换成小时很难说是成功还是败笔，更细的颗粒度使得游戏对各项数据的模拟将更为细致和真实，但极大程度拖慢了游戏速度，造成卡顿。本人笔记本电脑配置为 Intel Ultra 5 125H + 4060 + 32G，自认为算是中等偏上配置了，中等画质下，开始一段时间后还好，有六七十帧，但玩了两三个小时后帧率只有二三十帧了。15 个小时后也只玩到了 1500年，很难想象从 1337 年文艺复兴时代到 1837 年大革命时代，完整体验一把五百年历史的游戏需要多久时间。\n从底层机制上可以看出 P 社面向未来十年大战略模拟游戏的雄心壮志，但单调和稀少的风味事件也透露出大量 DLC 可以推出的余地，真是 P 社祖传艺能了。\n","categories":["游戏","欧陆风云5"],"tags":["游戏","Paradox","EU5"]},{"title":"《水流云在：我的西南联大岁月》阅读笔记","url":"/post/2bb93c7b.html","content":"《水流云在：我的西南联大岁月》阅读笔记\n本书是汪曾祺的散文集，以人民文学出版社《汪曾祺全集》散文卷为底本，主要以对大学青春岁月的回忆为主体。2025 年上半年购于广州购书中心天河店，具体日期记不太清了。\n师恩母爱 ——怀念王文英老师\n在读到 “师恩母爱 ——怀念王文英老师” 这一章的这一段时，颇为感动， 泪难自禁。\n\n1981 年秋，我应邀回阔别多年的家乡讲学，带了一点北京的果脯去看王先生和张先生，并给他们各送了一首在招待所急就的诗。给王先生的一首不文不白，毫无雕饰。第二天张先生带了两瓶酒到招待所来看我，我说哪有老师来看学生的道理，还带了酒！张先生说，是王先生一定要他送来的。说王先生看了我的诗，哭了一晚上。这首诗全诗是：\n小孩子乖乖，把门儿开开，歌声犹在，耳边徘徊。我今亦老矣，白髭盈腮，念一生美育，从此培栽，师恩母爱，岂能忘怀！愿吾师康健，长寿无灾。\n张先生说，王先生对他说：“我教那么多学生，长大了，还没有一个来看过我的！”王先生指着收“师恩母爱，岂能忘怀”对张先生收：“他进幼稚园的时候还戴着他妈妈的孝！”我这才知道王先生为什么对我特别关心，特别喜爱。张先生反复念了这两句，连说：“师恩母爱！师恩母爱！”\n\n“我今亦老矣，白髭盈腮，念一生美育，从此培栽，师恩母爱，岂能忘怀！”\n觅我游踪五十年\n\n将去云南，临行前的晚上，写了三首旧体诗。怕到了那里，有朋友叫写字，临时想不出合适词句。一九八七年去云南，一路写了不少字，平地抠饼，现想词儿，深以为苦。其中一首是：\n羁旅天南久未还，故乡无此好湖山。长堤柳色浓如许，觅我游踪五十年。\n\n","categories":["阅读笔记","《水流云在：我的西南联大岁月》"],"tags":["阅读","汪曾祺"]},{"title":"个人博客搜索引擎收录","url":"/post/1510b461.html","content":"序言\n在搭建好自己的自己的个人博客后，想要让其他人在搜索引擎上搜索到网站上的内容，需要提交网站到搜索引擎的收录平台，并通过添加站点地图来帮助搜索引擎抓取内容。\n站点地图\n站点地图(sitemap)是一种包含了某个网站所有网址的 XML 文件，表明了网页的详细信息和网站的结构框架，添加站点地图可以加速你的网站被搜索引擎爬取。\nHexo 框架生成 Sitemap\n安装hexo-generator-sitemap插件\nnpm install hexo-generator-sitemap --save\n在_configure.yml中添加配置\nsitemap:  path:    - sitemap.xml  rel: false  tags: true  categories: true\n\npath - 网站地图路径。(默认：sitemap.xml)\nrel - 在网站头部添加 rel-sitemap(默认: false)\ntags - 网站的标签\ncategories - 网站的分类\n\n配置好后执行 hexo cl &amp;&amp; hexo g &amp;&amp; hexo d命令生成网站静态文件\n在.deploy_git\\sitemap.xml路径下可查看到默认生成的sitemap.xml文件\n浏览器访问https://&lt;域名&gt;/sitemap.xml也可查看内容\n\n提交站点到谷歌\n到Google search console 提交站点，可以选择多种方式验证您是网站的所有者，这里我选择的是通过添加 DNS 验证，\n\n提交站点地图文件\n\n提交站点到必应\n到 https://www.bing.com/webmasters/ 提交站点，由于之前已经在 Google search console 中添加了网站，这里可以选择从 GSC 直接导入\n同样的，我们这里也提交一下站点地图文件\n\n验证网站是否被搜索引擎收录\n在搜索引擎中输入site:&lt;域名&gt;\n如图所示，我们的网站已经可以在搜索引擎中找到\n\n直接输入我们的网站名称，也可搜索到\n\n","categories":["本站相关"],"tags":["博客","教程"]},{"title":"为WSL设置代理","url":"/post/6558428b.html","content":"为 WSL2 设置代理\nWSL 有两个配置文件：\n\n.wslconfig：适用于所有 WSL 的配置\nwsl.conf：在/etc目录下，仅适用于对应的特定 Linux 发行版\n\n.wslconfig文件在~/目录下，即C:\\Users\\&lt;UserName&gt;\\.wslconfig\n但是.wslconfig文件默认并不存在，需要手动创建。\n在正确的目录下创建文件，示例如下\n[wsl2]# 开启自动代理autoProxy=true# 开启 DNS 隧道dnsTunneling=true# 开启镜像网络模式networkingMode=mirrored# 同步防火墙规则firewall=true[experimental]# 自动回收内存autoMemoryReclaim=gradual# 自动释放硬盘空间sparseVhd=true\n要使 WSL 使用 Windows 的代理，需要设置autoProxy=true，强制 WSL 使用 Windows 的 HTTP 代理信息。\n参考资料：\n","categories":["技术分享"],"tags":["Linux","技术分享"]},{"title":"提示词优化工具","url":"/post/20a60fcb.html","content":"自古以来，对话就是一门艺术和学问，在现实生活中与人对话时，如何让他人准确快速地理解我们所要表达的信息，是提高沟通效率的关键。\n当今的 AI 本质上作为一种接受输入和输出的工具，其基础还是自然语言，想要让 AI 更好的帮助我们，除了模型的基础能力之外，构建准确详细的提示词也是极其重要的。提示词不仅规划限制了 AI 回答的结构和语言风格，也能极大影响其能力的体现。\n当下流行的各类大模型应用，MCP，Agent，RAG……，上下文工程都是最重要的一环之一。再比如酒馆(Silly Tavern)，什么破限预设，世界书，角色卡等等，都把提示词玩出花来了（果然涩涩是第一源动力啊）。\n在此分享一个非常好用的工具 prompt-optimizer，一个提示词优化器，还在苦恼该如何撰写准确详细的 prompt 吗？这个 github 上的开源项目内置了多种提示词优化模板，只需要配置好 API，输入你的原始 prompt，就可以使用 AI 来优化你的提示词。\n\n","categories":["杂谈"],"tags":["AI","杂谈"]},{"title":"九月十四日夜行珠江畔","url":"/post/7f55bce6.html","content":"2025-9-14 晚\n夜行珠江畔，迎面江风拂。\n广州市天河区沿江西路\n\n    [{\"url\":\"https://img.angaiing.top/IMG_20250914_214727.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250921_211426.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250921_211932.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250921_211943.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250921_213219.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_202420.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_205945.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_211616.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_213224.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_213511.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_213545.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_213611.webp\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://img.angaiing.top/IMG_20250914_214228.webp\",\"alt\":\"\",\"title\":\"\"}]\n  \n","categories":["散步"],"tags":["随手拍"]},{"title":"十月二十二日夜","url":"/post/c453eba7.html","content":"十月二十二日夜\n广州最近降温了，晚上总是寒风凛冽，吹得瑟缩起身体。寒意却总能激起我的思绪飞扬。\n大学不比中学，不求评优保研的话，没有那般大的课业和考试的压力，总有许多可自由支配的时间，做些自己想做的事，读些自己想读的书，写些自己想写的东西。闲下来也可以边听音乐边呆坐着做些不着边际的思考。没有名利物欲的追求，不必担惊受怕，平静的生活惬意得使人想永久沉溺于此。然而，人总要在社会上谋得一职位，若干年后，也终有毕业的一天，也终有工作的一日。那时的我又将怎样呢？我的志向在何方呢？不知道过去的我是否曾想到现在的我呢？\n人死后会有来世吗？意识会归于一片混沌还是又将出现呢？\n一想到此，我便不禁感慨人生的短暂，人类的渺小，宇宙的旷达，我所做的一切又有什么意义呢？\n我的躯体所能抵达的地方有限，然而我的思想却能横跨五大洲七大洋，越过地球，触摸宇宙的边界，追溯千年以前，想象千年以后。\n","categories":["杂谈"],"tags":["杂谈"]},{"title":"计算机网络——应用层","url":"/post/e1113bf9.html","content":"计算机网络——应用层\n应用层体系结构\n客户-服务器模型(C/S)\n服务器：提供计算服务的设备。\n1、永久提供服务。\n2、永久性访问地址/域名。\n客户机：请求计算服务的主机。\n1、与服务器通信，使用服务器提供的服务。\n2、间歇性接入网络。\n3、可能使用动态 IP 地址。\n4、不与其他客户机直接通信。\nP2P(Peer-to-Peer)模型\n不存在永远在线的服务器\n每个主机既可以提供服务，也可以请求服务。\n任意端系统/结点之间可以直接通讯。\n结点间歇性接入网络。\n结点可能改变 IP 地址。\n可拓展性好，网络健壮性强。\nHTTP 协议\nHTTP 协议是一种应用层协议，它规定了参与 Web 通信的浏览器和 Web 服务器之间的通信细节。HTTP 协议主要用于传输超文本网页及其相关网络资源。HTTP 使用 TCP 作为运输协议。\nHTTP 报文格式\n请求报文\n下面是一个典型的 HTTP 请求报文\nGET /index.html HTTP/1.1Host: www.example.comUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)Accept: text/htmlConnection: keep-alive\n请求行\n报文的第一行是请求行，也是最核心的一行，由三个字段组成，由空格分开。\n\n方法字段：表明希望服务器要执行的操作，包括 GET、POST、PUT、DELETE、HEAD。\nURL 字段：指定请求资源的路径，只包含路径部分，不包括域名。\nHTTP 版本字段：表示使用的 HTTP 协议版本。\n\n首部行\n首部行由若干个键值对组成，用来传递附加信息，比如客户端的类型、期望接收的数据格式等。\n\nHost: 必须包含的字段 (在 HTTP/1.1 中)。它指明了请求的目标服务器域名。为什么需要它？因为一台物理服务器上可能托管着多个网站（虚拟主机），服务器需要通过Host字段来判断你到底想访问哪个网站。\n\nHost: www.example.com\n\n\nUser-Agent: “用户代理”，也就是你客户端的身份标识。它告诉服务器你用的是什么浏览器、什么操作系统。服务器可以根据这个信息返回对特定浏览器优化过的内容。\n\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\n\n\nAccept: 告诉服务器，我的浏览器能理解哪些类型的内容。\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8 (表示优先接收 HTML，但其他也行)\n\n\nAccept-Language: 告诉服务器，我偏好哪种语言。\n\nAccept-Language: zh-CN,zh;q=0.9 (首选简体中文)\n\n\nConnection: 控制 TCP 连接的行为。keep-alive表示希望使用我们之前讨论过的持续连接。\n\nConnection: keep-alive\n\n\n\n实体主体\n可选的，它包含了你想要提交给服务器的数据。\n对于 GET 请求，由于它的目的是从服务器获取数据，所以通常没有实体主体。\n响应报文\nHTTP/1.1 200 OKDate: Wed, 18 Apr 2024 12:00:00 GMTServer: Apache/2.4.1 (Unix)Last-Modified: Wed, 18 Apr 2024 11:00:00 GMTContent-Length: 12345Content-Type: text/html; charset=UTF-8\n状态行\n这是响应报文的第一行，包含了最重要的处理结果信息。\n\n版本 : 服务器使用的 HTTP 协议版本，如 HTTP/1.1。\n状态码: 一个三位数的数字，是响应的核心。它用代码的形式告诉客户端请求的结果是成功、失败还是需要其他操作。\n原因短语 : 对状态码的一个简短的、人类可读的文字描述，如 OK, Not Found。\n\n状态码被分成了五大类：\n\n2xx (成功): 表示请求被成功接收、理解和处理。\n\n200 OK: 最常见的成功状态码。表示请求成功，服务器已返回所请求的数据。\n\n\n3xx (重定向): 表示需要客户端采取进一步的操作才能完成请求。\n\n301 Moved Permanently: 永久重定向。你请求的资源已经永久搬到了一个新的 URL。浏览器会自动跳转到新地址。\n302 Found: 临时重定向。\n\n\n4xx (客户端错误): 表示客户端的请求有语法错误或请求无法实现。\n\n400 Bad Request: 请求本身有误，服务器无法理解。\n403 Forbidden: 服务器理解请求，但拒绝执行。你没有权限访问。\n404 Not Found: 最著名的状态码。服务器上没有找到你请求的资源（网页、图片等）。\n\n\n5xx (服务器错误): 表示服务器在处理请求的过程中发生了内部错误。\n\n500 Internal Server Error: 服务器内部出错了，这是一个通用的服务器错误码。\n503 Service Unavailable: 服务器当前暂时无法处理请求（可能过载或正在维护）。\n\n\n\n首部行\n和请求首部一样，这里也是 键值对的列表，提供了关于响应的附加信息。\n\nContent-Type: 极其重要。告诉浏览器，我发给你的实体主体是什么格式的。浏览器根据这个值来决定如何解析和展示内容。\n\ntext/html: 这是 HTML 文档。\nimage/jpeg: 这是 JPG 图片。\napplication/json: 这是 JSON 数据。\ntext/css: 这是 CSS 样式表。\n\n\nContent-Length: 告诉浏览器，实体主体的长度是多少字节。浏览器可以用它来判断数据是否接收完整。\nDate: 服务器生成并发送此响应的日期和时间。\nServer: 告诉客户端，处理你这个请求的服务器软件是什么。\n\nServer: Apache/2.4.1 (Unix)\nServer: nginx/1.20.1\n\n\nLast-Modified: 请求的这个文件在服务器上最后一次被修改的时间。这个首部主要用于浏览器缓存。\nSet-Cookie: 非常重要。服务器通过这个首部在你的浏览器上设置一个 Cookie。下次你再请求这个网站时，浏览器会自动带上这个 Cookie，让服务器认出你。\n\n实体主体\n这就是真正的客户端请求的资源本身。\n\n如果请求的是一个 HTML 页面，实体主体就是这个页面的完整 HTML 代码。\n如果请求的是一张图片，实体主体就是这张图片的二进制数据。\n\nHTTP 响应的状态码\n状态代码由三位数字组成，第⼀个数字定义了响应的类别，共分 5 种类别：\n1xx：指示信息——表示请求已接收，继续处理；\n2xx：成功——表示请求已被成功接收、理解和接受；\n3xx：重定向——要完成请求必须进⾏更进⼀步的操作；\n4xx：客户端错误——请求有语法错误或请求⽆法实现；\n5xx：服务器端错误——服务器未能实现合法的请求。\nCookie\n是服务器发送到用户浏览器并保存在本地的一小块数据。浏览器会存储 cookie 并在下次向同一服务器再发起请求时携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器——如保持用户的登录状态。Cookie 使基于无状态的 HTTP 协议记录稳定的状态信息成为了可能。\n服务器使用响应首部字段Set-Cookie来发送 cookie 信息。\n当用户的浏览器第一次访问一个需要状态管理的网站时（比如登录），服务器在处理完你的请求后，会在发回的 HTTP 响应报文中，包含一个特殊的**Set-Cookie**首部。\nHTTP/1.1 200 OKContent-Type: text/htmlSet-Cookie: session-id=3a8d4z9b2c7f1; Expires=Wed, 21 Oct 2025 07:28:00 GMT\n当用户的浏览器收到响应报文后，它会在管理的 cookie 文件中添加收到的 cookie 信息。\n当用户再次访问这个网站时，会自动在请求报文的首部中添加一个Cookie字段\nGET /cart.html HTTP/1.1Host: www.example-store.comCookie: session-id=3a8d4z9b2c7f1\n当服务器收到含有 Cookie 首部的请求后，会去数据库中查找这个 Cookie 信息，从而恢复之前的信息，比如登录信息等。\n\nDNS\nDNS（域名系统，Domain Name System）将人类易于记忆的域名（例如 mozilla.org）翻译成为数字化的 IP 地址（例如 192.0.2.172）；这一从域名到 IP 地址的映射过程被称为 DNS 查询。与之对应，DNS 反向查询用来找到与 IP 地址对应的域名。\nUDP socket 实验\n《计算机网络：自顶向下方法》(第 8 版)一书中的一个 socket 编程实验，实验任务如下：\n\n\n客户从其键盘读取一行字符（数据）并将该数据向服务器发送\n\n\n服务器接受该数据并将这些字符转换为大写\n\n\n服务器将修改的数据发送给客户\n\n\n客户接收修改的数据并在其监视器上将该行显示出来\n\n\nUDPClinet.py\nimport socket# 服务器 IP 地址serverName = &#x27;127.0.0.1&#x27;# 服务器端口号serverPort = 12000# 创建UDP socketclientSocket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)# 获取用户输入message = input(&#x27;Input lowercase sentence:&#x27;)# 将字符串编码为字节并发送给服务器clientSocket.sendto(message.encode(), (serverName, serverPort))# 从服务器接受返回的数据modifiedMessage, serverAddress = clientSocket.recvfrom(2048)print(modifiedMessage.decode())clientSocket.close()\nUDPServer.py\nimport socket# 服务器端口号serverPort = 12000# 这里我们不指定IP地址，而是使用空字符串，表示服务器可以在任何可用的网络接口上接收连接serverName = &#x27;&#x27;# 创建UDP socket# AF_INET 表示使用IPv4，SOCK_DGRAM 表示这是一个UDP socketserverSocket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)# 将 socket 绑定到指定的端口serverSocket.bind((serverName, serverPort))print(&quot;The server is ready to receive&quot;)# 进入一个无限循环，持续等待并处理客户端发送的请求while True:    # recvfrom 会阻塞程序，直到收到一个数据报    # 2048 是缓冲区大小，表示一次最多能接收 2048 字节的数据    # 它返回两个值：数据本身(message)和客户端的地址(clientAddress)    message, clientAddress = serverSocket.recvfrom(2048)    # 将接收到的数据解码为字符串    decoded_message = message.decode()    # 将字符串转换为大写    modifiedMessage = decoded_message.upper()    # 将修改后的字符串编码为字节，并发送回客户端    serverSocket.sendto(modifiedMessage.encode(), clientAddress)    print(&#x27;send success&#x27;)\n\n","categories":["学习笔记","计算机网络"],"tags":["学习","计算机网络","应用层"]},{"title":"计组——汇编学习笔记","url":"/post/3a831366.html","content":"计组——汇编学习\n本文与著名的《深入理解计算机系统》（CS:APP）一书一样，汇编代码格式采用 AT&amp;T 格式。\nAT&amp;T 格式与 Intel 格式的不同\n\n\n\n特性\nAT&amp;T 格式\nIntel 格式\n\n\n\n\n操作数顺序\nop s,d源在左，目标在右\nop d,s目标在左，源在右\n\n\n寄存器表示\nmov %ebx,%eax寄存器名称前加 %\nmov ebx,eax不带前缀\n\n\n立即数表示\nmov $985,%eax立即数前加 $\nmov 985,%eax不带前缀\n\n\n主存地址表示\n(af996h)用小括号\n[af996h]用中括号\n\n\n读写长度表示\nmovl，movqb、w、l、q 分别表示 1、2、4、8 字节\nmov byte ptr [af996h],5在主存地址前说明读写长度\n\n\n主存偏移表示\n偏移(基址, 索引, 缩放)8(%ebp)(%eax, %ebx, 4)\n[基址 + 索引 * 缩放 + 偏移][ebp + 8][eax + ebx * 4]\n\n\n注释\n#\n;\n\n\n\n内存寻址\n在 AT&amp;T 语法中，一个完整的内存地址表达式格式为：\n$$\nD(R_b, R_i, S)\n$$\n计算出的内存地址为：\n$$\n\\text{内存地址} = D + R_b + R_i \\times S\n$$\n各部分的含义：\n\n$D$（Displacement / 偏移量）：一个常数值（例如 8、-12，或标签 my_var 的地址），类似于“基础”的门牌号。\n$R_b$（Base Register / 基址寄存器）：一个寄存器（例如 %ebp、%eax、%rbx），提供“动态的”基准地址，如函数栈帧的开始或数组的开头。\n$R_i$（Index Register / 索引寄存器）：另一个寄存器（例如 %ecx、%eax），通常用于存储“索引”值，如循环变量 i。\n$S$（Scale / 缩放因子）：一个固定的乘数，值必须是 1、2、4 或 8。它配合索引（$R_i$）使用。如果 $R_i$ 存储数组下标 i，而数组元素大小为 4 字节（int），则 $S$ 应为 4，这样 Ri * S 就等于 i * 4，即第 i 个元素的字节偏移。\n\n常用汇编指令\n数据传送指令\n这类指令负责在寄存器和内存之间移动数据，是所有程序的基础。\n1. mov（Move）\n\n\n功能：将源操作数的值复制到目标操作数。这是最常用、最重要的指令。\n\n\nAT&amp;T 格式：movl source, destination\n\n\n示例：\nmovl %eax, %ebx      # 将寄存器 %eax 的值复制到 %ebxmovl $10, %eax       # 将立即数 10 存入寄存器 %eaxmovl (%ebx), %eax    # 将 %ebx 寄存器指向的内存地址中的数据加载到 %eaxmovl %eax, -4(%rbp)  # 将 %eax 的值存入栈上地址为 %rbp-4 的位置\n\n\n2. lea（Load Effective Address）\n\n\n功能：计算源操作数（必须是内存地址）的有效地址，并将其加载到目标操作数（必须是寄存器）。它传送的是地址本身，而不是地址指向的数据。\n\n\nAT&amp;T 格式：leaq source_address, destination_register\n\n\n示例：\nleaq -8(%rbp), %rax  # 将内存地址 %rbp-8 这个地址值本身加载到 %rax 寄存器                     # 这条指令执行后，%rax 的值就是 %rbp 的值减 8\n\n\n说明：lea 指令非常灵活，常被用来进行不影响标志位的快速算术运算。\n\n\n3. push / pop（Push / Pop）\n\n\n功能：在栈上压入或弹出数据。栈是“后进先出”（LIFO）的数据结构，在函数调用中至关重要。\n\n\npush：将操作数压入栈顶，栈指针 %rsp 会减小。\n\n\npop：从栈顶弹出一个数据到操作数，栈指针 %rsp 会增大。\n\n\nAT&amp;T 格式：pushq source / popq destination\n\n\n示例：\npushq %rbx           # 将 %rbx 的值压入栈顶popq %rax            # 从栈顶弹出一个值到 %rax\n\n\n算术运算指令\n用于执行基本的数学计算。\n1. add / sub（Add / Subtract）\n\n\n功能：加法和减法。\n\n\nAT&amp;T 格式：addl source, destination（结果：destination = destination + source）\n\n\n示例：\naddl %eax, %ebx      # %ebx = %ebx + %eaxsubl $5, %ecx        # %ecx = %ecx - 5\n\n\n2. inc / dec（Increment / Decrement）\n\n\n功能：将操作数加一或减一。比 add 或 sub 更高效。\n\n\nAT&amp;T 格式：incl destination\n\n\n示例：\nincl %eax            # %eax = %eax + 1decq %rbx            # %rbx = %rbx - 1\n\n\n3. imul（Signed Multiply）\n\n\n功能：有符号整数乘法。\n\n\nAT&amp;T 格式：imull source, destination（结果：destination = destination * source）\n\n\n示例：\nimull %ebx, %eax     # %eax = %eax * %ebx\n\n\n4. idiv（Signed Divide）\n\n\n功能：有符号整数除法。这个指令比较特殊。\n\n\nAT&amp;T 格式：idivl divisor\n\n\n说明：idiv 会使用 %edx:%eax（一个 64 位数）作为被除数，除数是指令的操作数。商存储在 %eax 中，余数存储在 %edx 中。\n\n\n示例：\ncqto                 # 64 位模式下，将 %rax 符号扩展到 %rdx:%raxidivq %rbx           # (%rdx:%rax) / %rbx，商在 %rax，余数在 %rdx\n\n\n注意：在执行 32 位除法 idivl 前，通常需要 cdq 指令将 %eax 符号扩展到 %edx。\n\n\n逻辑与比较指令\n1. and / or / xor (Bitwise AND / OR / XOR)\n\n\n功能: 按位进行与、或、异或运算。\n\n\nAT&amp;T 格式: andl source, destination (结果: destination = destination &amp; source)\n\n\n示例:\nandl $0xf, %eax      # 清零 %eax 的高28位，保留低4位xorl %eax, %eax      # 一种将 %eax 清零的高效方法\n\n\n2. cmp（Compare）\n\n基本含义：cmp 指令对两个操作数执行一次“隐藏”的减法操作（Destination - Source），但不保存结果，仅根据结果设置 EFLAGS 寄存器中的标志位。\n语法格式：cmp Source, Destination\n影响的标志位：\n\nZF（Zero Flag - 零标志位）：如果相减结果为 0（即两个数相等），ZF 设为 1；否则为 0。\nSF（Sign Flag - 符号标志位）：如果结果为负数，SF 设为 1；否则为 0。\nCF（Carry Flag - 进位标志位）：用于无符号数比较。如果减法产生了借位（Destination &lt; Source），CF 设为 1。\nOF（Overflow Flag - 溢出标志位）：用于有符号数比较。如果减法导致有符号溢出，OF 设为 1。\n\n\n\n3. test（Test）\n\n基本含义：test 指令对两个操作数执行“隐藏”的按位与操作（Destination &amp; Source），但不保存结果，仅根据结果设置标志位。\n语法格式：test Source, Destination\n典型用途：检查一个数中的特定位是否为 1，或判断一个数是否为 0。例如，test %eax, %eax 可以快速判断 %eax 是否为 0。\n影响的标志位：\n\nZF（Zero Flag）：如果按位与的结果为 0，ZF 设为 1；否则为 0。\nSF（Sign Flag）：如果结果的最高位为 1（即负数），SF 设为 1；否则为 0。\nCF 和 OF 会被清零。\n\n\n\n控制流指令\n1. jmp（Unconditional Jump）- 无条件跳转\n\n基本含义：立即、无条件地将程序执行流转移到指定的标签（label）位置。\n语法格式：jmp label\n典型用途：用于 else 块执行后跳过 if 块，或构成循环。\n\n2. jcc（Conditional Jumps）- 条件跳转命令\n\n基本含义：这一系列命令会检查 EFLAGS 寄存器的特定标志位，如果满足条件，则跳转到指定标签；否则，顺序执行下一条指令。\n语法格式：j&lt;condition&gt; label\n\n常见条件跳转命令汇总\n\n\n\n命令\n描述（Jump if…）\n检查的标志位\n适用场景\n\n\n\n\n相等/零\n\n\n\n\n\nje\nEqual（相等）\nZF = 1\na == b\n\n\njne\nNot Equal（不相等）\nZF = 0\na != b\n\n\n有符号比较\n\n\n\n\n\njg\nGreater（大于）\nZF=0 and SF=OF\nsigned a &gt; b\n\n\njge\nGreater or Equal（大于等于）\nSF = OF\nsigned a &gt;= b\n\n\njl\nLess（小于）\nSF ≠ OF\nsigned a &lt; b\n\n\njle\nLess or Equal（小于等于）\nZF=1 or SF≠OF\nsigned a &lt;= b\n\n\n无符号比较\n\n\n\n\n\nja\nAbove（之上）\nCF=0 and ZF=0\nunsigned a &gt; b\n\n\njae\nAbove or Equal（之上或等于）\nCF = 0\nunsigned a &gt;= b\n\n\njb\nBelow（之下）\nCF = 1\nunsigned a &lt; b\n\n\njbe\nBelow or Equal（之下或等于）\nCF=1 or ZF=1\nunsigned a &lt;= b\n\n\n\n3. call / ret (Call / Return)\n\n\n功能: 用于函数（或子程序）的调用和返回。\n\n\ncall: 将下一条指令的地址压入栈中（作为返回地址），然后跳转到函数的起始地址。\n\n\nret: 从栈顶弹出返回地址，并跳转到该地址，从而返回到调用者。\n\n\n示例:\ncall my_function     # 调用名为 my_function 的函数# ... my_function 执行完毕后，会从这里继续执行my_function:    # ... 函数体 ...    ret              # 从函数返回\n\n\n4. cmovcc（Conditional Move，条件传送）指令\n\n基本含义：检查 EFLAGS 寄存器的特定标志位，如果满足条件，则执行 mov Source, Destination 操作。如果标志位不满足条件，该指令就变成一个空操作（NOP），不执行任何数据传送，Destination 的值保持不变。\n语法格式：cmov&lt;condition&gt; Source, Destination\n与条件跳转的对比：cmov 可以避免分支预测失败带来的性能损失，适用于简单的条件赋值。但如果条件分支的逻辑很复杂，使用条件跳转仍然是更好的选择。\n\n条件语句\n高级语言中的条件语句（如 if-else）是通过 cmp 或 test 指令与条件跳转指令（jcc）组合来实现的。其基本思想是：如果条件不满足，就跳过 if 块的代码。\n1. if 语句\nC 语言示例：\n// 假设 a 在 %eax, b 在 %ebxif (a &gt; b) &#123;    // body&#125;// next\n汇编实现：\n    cmp %ebx, %eax   # 比较 a 和 b (eax - ebx)    jle .L_end       # 如果 a &lt;= b (不满足 a &gt; b)，则跳转到结尾# if-body:    ...              # 条件满足时执行的代码.L_end:    ...              # 后续代码\n\n逻辑：先比较，然后使用与条件相反的跳转指令。如果 a &gt; b 的条件不成立（即 a &lt;= b），就跳过 if 的主体部分。\n\n2. if-else 语句\nC 语言示例：\n// 假设 a 在 %eax, b 在 %ebxif (a &gt; b) &#123;    // if-body&#125; else &#123;    // else-body&#125;// next\n汇编实现：\n    cmp %ebx, %eax   # 比较 a 和 b (eax - ebx)    jle .L_else      # 如果 a &lt;= b (不满足 a &gt; b)，则跳转到 else 块# if-body:    ...              # if 块的代码    jmp .L_end       # 执行完 if 块后，无条件跳转到结尾.L_else:# else-body:    ...              # else 块的代码.L_end:    ...              # 后续代码\n\n逻辑：\n\n比较 a 和 b。\n如果 if 的条件不满足，则跳转到 else 块（.L_else）。\n如果 if 的条件满足，则顺序执行 if 块的代码。\nif 块执行完毕后，必须用一个无条件跳转 jmp 来跳过 else 块，防止它被错误地执行。\n\n\n\n3. 使用 cmov 实现条件赋值\n对于简单的条件赋值，现代编译器倾向于使用 cmov 指令来代替条件跳转，以避免分支预测失败的性能开销。\nC 语言示例：\n// 计算 x 和 y 中的较大值int max(int x, int y) &#123;    return x &gt; y ? x : y;&#125;\n汇编实现（使用 cmov）：\n# x 在 %edi, y 在 %esi    movl %esi, %eax    # 先假设 y 是最大值，eax = y    cmpl %esi, %edi    # 比较 x 和 y    cmovg %edi, %eax   # 如果 x &gt; y (greater)，则将 x 的值赋给 eax    ret                # 返回 eax\n\n逻辑：这种实现方式没有跳转，代码是线性的。无论 x 和 y 的大小关系如何，执行的指令数量都是固定的，因此效率更高、更稳定。\n\n","categories":["学习笔记","计算机组成原理"],"tags":["学习","计算机组成原理","汇编"]},{"title":"维护日志","url":"/post/ffcd24f1.html","content":"维护日志\n2025-10-13\n使用 hexo 和 butterfly 主题搭建了一个简单的静态个人博客，部署在 github pages，目前没有什么内容，希望以后能够坚持记录。\n2025-10-14\n稍微修改了一些设置，本来想将图片托管在图床上的，尝试使用 github+picgo，但效果不太行，尝试了下 cloudfare r2，等以后图片多起来了再试试吧。\n2025-10-15\n\n\n使用 cloudflare r2 + picgo 终于把图床搞好了，用的是picgo-plugin-cloudflare-r2这个插件，感谢作者！\n\n\n修改了一些 css 样式。在页脚底部添加了计时器。\n\n\n在 Vercel 和 MongoDB Atlas 上部署了 Twikoo 评论系统，具体教程在Twikoo 官方文档上写得很详细了，还可以参考以下两篇博客。\n\n\n【Vercel】Twikoo | 为你的 HEXO 加入评论系统\n\n\nHEXO 系列教程 | 在 Butterfly 主题中使用评论系统 twikoo\n\n\n\n\n2025-10-16\n\n在阿里云上 14 块钱买了一个一年的域名，添加了 Cloudflare DNS。\n在测试的时候发现国内访问太慢了，将网站从 github pages 迁移到了 netlify。结果突然发现 netlify 免费用户每月只有 300 积分，而每一次构建都要 15 积分……，最后还是迁移回 github pages。\n\n2025-10-17\n\n更换 CDN 为 jsdmirror，发现有些资源没有，换回了 jsdeliver。\n在 Vercel 上绑定了自己的域名，加快国内访问速度，具体可以参见这篇博客解决 Vercel 被墙导致 Twikoo 无法评论的问题：在 Vercel 添加子域名。\n\n2025-10-18\n\n添加了星空背景特效\n\n2025-10-19\n\n添加了萌 IPC 备案\n添加了 wizard 加载动画和 gulp 优化，具体可参见这篇博客hexo 博客 butterfly 主题安装及魔改笔记。\n\n2025-11-7\n\n添加了谷歌和必应搜索引擎收录，详见本站这篇博客个人博客搜索引擎收录\n\n","categories":["维护日志"],"tags":["本站相关","日志"]},{"title":"《酉阳杂俎》阅读笔记","url":"/post/d2b7ae7b.html","content":"《酉阳杂俎》阅读笔记\n之前在知乎上偶然间刷到了一篇关于酉阳杂俎的文章，觉得很是有趣，趁着去广州购书中心的机会便买了下来。本身内容繁杂，长短不一，慢慢读吧。\n作者简介\n本书作者段成式（803？——863），字柯古，祖籍临淄。段成式出身望族。其六世祖段志玄（598——642）是唐朝开国元勋，官至右卫大将军，封褒国公，为凌烟阁二十四功臣之一，陪葬昭陵。其父段文昌（773——835）为中唐名臣，穆宗时曾为中书侍郎、同中书门下平章事，文宗时进封邹平郡公，历镇淮南、荆南、剑南西川。其母则是中唐名相武元衡之女。\n段文昌于唐德宗贞元十五年（799）入剑南西川节度使韦皋幕府。段成式即出生于成都，青少年时随父侍宦，辗转于长安和成都，江东和西蜀之间。\n","categories":["阅读笔记","《酉阳杂俎》"],"tags":["阅读","古文"]}]